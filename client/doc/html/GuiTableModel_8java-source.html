<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Stanford Timing Interface: Client: src/edu/stanford/atom/sti/client/gui/table/GuiTableModel.java Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.3 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
  </ul>
</div>
<h1>src/edu/stanford/atom/sti/client/gui/table/GuiTableModel.java</h1><a href="GuiTableModel_8java.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * GuiTableModel.java</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> * Created on April 10, 2008, 11:02 AM</span>
<a name="l00005"></a>00005 <span class="comment"> *</span>
<a name="l00006"></a>00006 <span class="comment"> * To change this template, choose Tools | Template Manager</span>
<a name="l00007"></a>00007 <span class="comment"> * and open the template in the editor.</span>
<a name="l00008"></a>00008 <span class="comment"> */</span>
<a name="l00009"></a>00009 
<a name="l00010"></a>00010 <span class="keyword">package </span>edu.stanford.atom.sti.client.gui.table;
<a name="l00011"></a>00011 
<a name="l00012"></a>00012 <span class="keyword">import</span> javax.swing.table.AbstractTableModel;
<a name="l00013"></a>00013 <span class="keyword">import</span> java.util.Vector;
<a name="l00014"></a>00014 <span class="comment">//import atomconsole_v2.CreateTable;</span>
<a name="l00015"></a>00015 
<a name="l00020"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html">00020</a> <span class="keyword">class </span><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html">GuiTableModel</a> <span class="keyword">extends</span> AbstractTableModel {
<a name="l00021"></a>00021     
<a name="l00022"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#62d33feac1b38f0e8cfeb2dcf937fb85">00022</a>     <span class="keyword">private</span> String[] <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#62d33feac1b38f0e8cfeb2dcf937fb85">columnNames</a>;
<a name="l00023"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#bf630adef04fabe4971490d60333fecc">00023</a>     <span class="keyword">private</span> Vector&lt;Object[]&gt; <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#bf630adef04fabe4971490d60333fecc">data</a>;
<a name="l00024"></a>00024     <span class="comment">//private Object[][] data;</span>
<a name="l00025"></a>00025     <span class="comment">// Initialize as zero-length array to avoid null pointer exceptions later</span>
<a name="l00026"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#998a1b32df7c463f72a0929f527f992e">00026</a>     <span class="keyword">private</span> <span class="keywordtype">int</span>[] <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#998a1b32df7c463f72a0929f527f992e">editableColumns</a> = <span class="keyword">new</span> <span class="keywordtype">int</span>[0];
<a name="l00027"></a>00027     
<a name="l00028"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#00213083730ef93a0085dd7f92f80812">00028</a>     <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#00213083730ef93a0085dd7f92f80812">setModelData</a>(Vector&lt;Object[]&gt; vObj, String[] gStr, <span class="keywordtype">int</span>[] eCol){
<a name="l00029"></a>00029                 <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#62d33feac1b38f0e8cfeb2dcf937fb85">columnNames</a> = gStr;
<a name="l00030"></a>00030                 <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#bf630adef04fabe4971490d60333fecc">data</a> = vObj;
<a name="l00031"></a>00031                 <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#998a1b32df7c463f72a0929f527f992e">editableColumns</a> = eCol;
<a name="l00032"></a>00032                 <span class="comment">/* DEBUGGING: Result, WAI</span>
<a name="l00033"></a>00033 <span class="comment">                for(Object[] o : data)</span>
<a name="l00034"></a>00034 <span class="comment">                    for(Object o1 : o)</span>
<a name="l00035"></a>00035 <span class="comment">                        if(o1 instanceof String)</span>
<a name="l00036"></a>00036 <span class="comment">                            System.out.println("Table Data in Model is: " + (String)o1);</span>
<a name="l00037"></a>00037 <span class="comment">                for(String s : columnNames)</span>
<a name="l00038"></a>00038 <span class="comment">                    System.out.println("Column Name in Model: " + s);</span>
<a name="l00039"></a>00039 <span class="comment">                 */</span>
<a name="l00040"></a>00040     }
<a name="l00046"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#f4a6605fb98ffc65f2be487ebd131c42">00046</a>     <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#f4a6605fb98ffc65f2be487ebd131c42">setChangedData</a>(Vector&lt;Object[]&gt; vObj){
<a name="l00047"></a>00047         <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#bf630adef04fabe4971490d60333fecc">data</a> = vObj;        
<a name="l00048"></a>00048     }
<a name="l00049"></a>00049     
<a name="l00055"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#d779e185e31d648f9b3c1740d1b2683b">00055</a>     <span class="keyword">public</span> Vector&lt;Object[]&gt; <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#d779e185e31d648f9b3c1740d1b2683b">getModelData</a>() {
<a name="l00056"></a>00056         <span class="keywordflow">return</span> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#bf630adef04fabe4971490d60333fecc">data</a>;
<a name="l00057"></a>00057     }
<a name="l00058"></a>00058             
<a name="l00059"></a>00059     
<a name="l00060"></a>00060     <span class="comment">//private Object[][] tableData = new Object[0][0];</span>
<a name="l00061"></a>00061     <span class="comment">//tableData = CreateTable.retrieveTableData();</span>
<a name="l00062"></a>00062     
<a name="l00063"></a>00063     <span class="comment">// These could be moved, but will essentially be what the code will fill in</span>
<a name="l00064"></a>00064     <span class="comment">// in the event that the array size of the data exceeds the named columns.</span>
<a name="l00065"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#bc6603b7782332a1221c2a47612f0851">00065</a>     <span class="keyword">private</span> String <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#bc6603b7782332a1221c2a47612f0851">errorColName</a> = <span class="stringliteral">"Undefined Column"</span>;    
<a name="l00066"></a>00066  
<a name="l00067"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#96b30d53d9d86fb6637ffb009c831e51">00067</a>         <span class="keyword">public</span> <span class="keywordtype">int</span> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#96b30d53d9d86fb6637ffb009c831e51">getColumnCount</a>() {
<a name="l00068"></a>00068             <span class="keywordflow">return</span> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#62d33feac1b38f0e8cfeb2dcf937fb85">columnNames</a>.length;
<a name="l00069"></a>00069         }
<a name="l00070"></a>00070 
<a name="l00071"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#00a3b11ad6cdc429c3cc8a7984c65086">00071</a>         <span class="keyword">public</span> <span class="keywordtype">int</span> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#00a3b11ad6cdc429c3cc8a7984c65086">getRowCount</a>() {
<a name="l00072"></a>00072             <span class="keywordflow">return</span> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#bf630adef04fabe4971490d60333fecc">data</a>.size();
<a name="l00073"></a>00073         }
<a name="l00074"></a>00074 
<a name="l00075"></a>00075     @Override
<a name="l00076"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#f87020260f0f0d83255ea3a670a5f0ee">00076</a>         <span class="keyword">public</span> String <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#f87020260f0f0d83255ea3a670a5f0ee">getColumnName</a>(<span class="keywordtype">int</span> col){
<a name="l00077"></a>00077             <span class="keywordflow">return</span> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#62d33feac1b38f0e8cfeb2dcf937fb85">columnNames</a>[col];
<a name="l00078"></a>00078         }
<a name="l00079"></a>00079 
<a name="l00080"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#60106df066aa1cd841078a509353d3f6">00080</a>         <span class="keyword">public</span> Object <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#60106df066aa1cd841078a509353d3f6">getValueAt</a>(<span class="keywordtype">int</span> row, <span class="keywordtype">int</span> col) {
<a name="l00081"></a>00081             Object[] targetObj = <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#bf630adef04fabe4971490d60333fecc">data</a>.get(row);
<a name="l00082"></a>00082             <span class="keywordflow">return</span> targetObj[col];
<a name="l00083"></a>00083         }
<a name="l00084"></a>00084 
<a name="l00085"></a>00085         <span class="comment">/*</span>
<a name="l00086"></a>00086 <span class="comment">         * JTable uses this method to determine the default renderer/</span>
<a name="l00087"></a>00087 <span class="comment">         * editor for each cell.  If we didn't implement this method,</span>
<a name="l00088"></a>00088 <span class="comment">         * then the last column would contain text ("true"/"false"),</span>
<a name="l00089"></a>00089 <span class="comment">         * rather than a check box.</span>
<a name="l00090"></a>00090 <span class="comment">         */</span>
<a name="l00091"></a>00091     @Override
<a name="l00092"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#c139e612ccb1fe0aef90cd02d966cadf">00092</a>         <span class="keyword">public</span> Class <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#c139e612ccb1fe0aef90cd02d966cadf">getColumnClass</a>(<span class="keywordtype">int</span> c) {
<a name="l00093"></a>00093             <span class="keywordflow">return</span> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#60106df066aa1cd841078a509353d3f6">getValueAt</a>(0, c).getClass();
<a name="l00094"></a>00094         }
<a name="l00095"></a>00095 
<a name="l00096"></a>00096         <span class="comment">/*</span>
<a name="l00097"></a>00097 <span class="comment">         * Don't need to implement this method unless your table's</span>
<a name="l00098"></a>00098 <span class="comment">         * editable.</span>
<a name="l00099"></a>00099 <span class="comment">         */</span>
<a name="l00100"></a>00100         
<a name="l00101"></a>00101     @Override
<a name="l00102"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#6e004c23567f11f840c83f7f88a6a247">00102</a>         <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#6e004c23567f11f840c83f7f88a6a247">isCellEditable</a>(<span class="keywordtype">int</span> row, <span class="keywordtype">int</span> col) {
<a name="l00103"></a>00103             <span class="comment">// Probably there's a much faster way to do this</span>
<a name="l00104"></a>00104             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i : <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#998a1b32df7c463f72a0929f527f992e">editableColumns</a>){
<a name="l00105"></a>00105                 <span class="keywordflow">if</span> (col == i) {
<a name="l00106"></a>00106                     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00107"></a>00107                 }                
<a name="l00108"></a>00108             }            
<a name="l00109"></a>00109             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00110"></a>00110         }
<a name="l00111"></a>00111          <span class="comment">/* The above code is purely to make this online example different from the standard table model. I don't know</span>
<a name="l00112"></a>00112 <span class="comment">         * that we need to use an abstract table model at all, perhaps a simple one will do.</span>
<a name="l00113"></a>00113 <span class="comment">         * However, an abstract table model is probably more extensible.*/</span>
<a name="l00114"></a>00114 
<a name="l00115"></a>00115          
<a name="l00116"></a>00116 
<a name="l00117"></a>00117         <span class="comment">/*</span>
<a name="l00118"></a>00118 <span class="comment">         * Don't need to implement the following method unless your table's</span>
<a name="l00119"></a>00119 <span class="comment">         * data can change.</span>
<a name="l00120"></a>00120 <span class="comment">         */</span>
<a name="l00121"></a>00121     @Override
<a name="l00122"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#0c4127360f4e550b83b938947d59d75c">00122</a>         <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#0c4127360f4e550b83b938947d59d75c">setValueAt</a>(Object value, <span class="keywordtype">int</span> row, <span class="keywordtype">int</span> col) {
<a name="l00123"></a>00123             Boolean DEBUG = <span class="keyword">false</span>;
<a name="l00124"></a>00124             <span class="keywordflow">if</span> (DEBUG) {
<a name="l00125"></a>00125                 System.out.println(<span class="stringliteral">"Setting value at "</span> + row + <span class="stringliteral">","</span> + col + <span class="stringliteral">" to "</span> + value + <span class="stringliteral">" (an instance of "</span> + value.getClass() + <span class="stringliteral">")"</span>);
<a name="l00126"></a>00126             }
<a name="l00127"></a>00127             Object[] targetObj = <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#bf630adef04fabe4971490d60333fecc">data</a>.get(row);
<a name="l00128"></a>00128             targetObj[col] = value;
<a name="l00129"></a>00129             fireTableCellUpdated(row, col);
<a name="l00130"></a>00130 
<a name="l00131"></a>00131             <span class="keywordflow">if</span> (DEBUG) {
<a name="l00132"></a>00132                 System.out.println(<span class="stringliteral">"New value of data:"</span>);
<a name="l00133"></a>00133                 <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#a1083db995371c21c71aca8b1b3916a5">printDebugData</a>();
<a name="l00134"></a>00134             }
<a name="l00135"></a>00135         }
<a name="l00136"></a>00136 
<a name="l00137"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#a1083db995371c21c71aca8b1b3916a5">00137</a>         <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#a1083db995371c21c71aca8b1b3916a5">printDebugData</a>() {
<a name="l00138"></a>00138             <span class="keywordtype">int</span> numRows = <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#00a3b11ad6cdc429c3cc8a7984c65086">getRowCount</a>();
<a name="l00139"></a>00139             <span class="keywordtype">int</span> numCols = <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#96b30d53d9d86fb6637ffb009c831e51">getColumnCount</a>();
<a name="l00140"></a>00140 
<a name="l00141"></a>00141             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; numRows; i++) {
<a name="l00142"></a>00142                 System.out.print(<span class="stringliteral">"    row "</span> + i + <span class="stringliteral">":"</span>);
<a name="l00143"></a>00143                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; numCols; j++) {
<a name="l00144"></a>00144                     System.out.print(<span class="stringliteral">"  "</span> + <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1table_1_1GuiTableModel.html#bf630adef04fabe4971490d60333fecc">data</a>.get(i)[j]);
<a name="l00145"></a>00145                 }
<a name="l00146"></a>00146                 System.out.println();
<a name="l00147"></a>00147             }
<a name="l00148"></a>00148             System.out.println(<span class="stringliteral">"--------------------------"</span>);
<a name="l00149"></a>00149         }
<a name="l00150"></a>00150 
<a name="l00151"></a>00151 }
<a name="l00152"></a>00152     
</pre></div><hr size="1"><address style="text-align: right;"><small>Generated on Thu May 22 16:31:44 2008 for Stanford Timing Interface: Client by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.3 </small></address>
</body>
</html>
