<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Stanford Timing Interface: Client: src/edu/stanford/atom/sti/client/gui/tabbedplotter/TabbedPlot.java Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.3 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
  </ul>
</div>
<h1>src/edu/stanford/atom/sti/client/gui/tabbedplotter/TabbedPlot.java</h1><a href="TabbedPlot_8java.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * To change this template, choose Tools | Templates</span>
<a name="l00003"></a>00003 <span class="comment"> * and open the template in the editor.</span>
<a name="l00004"></a>00004 <span class="comment"> */</span>
<a name="l00005"></a><a class="code" href="namespaceedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter.html">00005</a> <span class="keyword">package </span>edu.stanford.atom.sti.client.gui.tabbedplotter;
<a name="l00006"></a>00006 
<a name="l00007"></a>00007 <span class="keyword">import</span> javax.swing.*;
<a name="l00008"></a>00008 <span class="keyword">import</span> javax.swing.text.*;
<a name="l00009"></a>00009 <span class="keyword">import</span> java.awt.Color;
<a name="l00010"></a>00010 <span class="keyword">import</span> org.jdesktop.swingx.JXGraph;
<a name="l00011"></a>00011 <span class="keyword">import</span> javax.swing.JPanel.*;
<a name="l00012"></a>00012 <span class="keyword">import</span> java.util.Vector;
<a name="l00013"></a>00013 <span class="keyword">import</span> java.awt.geom.Rectangle2D;
<a name="l00014"></a>00014 <span class="keyword">import</span> java.awt.event.MouseAdapter;
<a name="l00015"></a>00015 <span class="keyword">import</span> java.awt.event.MouseEvent;
<a name="l00016"></a>00016 <span class="comment">//import javax.swing.JComponent;</span>
<a name="l00017"></a>00017 
<a name="l00018"></a>00018 <span class="comment">// Temporary until we get the other parser working.</span>
<a name="l00019"></a>00019 <span class="keyword">import</span> org.nfunk.jep.*;
<a name="l00020"></a>00020 
<a name="l00025"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html">00025</a> <span class="keyword">public</span> <span class="keyword">class </span><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html">TabbedPlot</a> {
<a name="l00026"></a>00026 
<a name="l00027"></a>00027     <span class="comment">// Declare Attributes</span>
<a name="l00028"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#2c66b3f9b684688c5da0697a054dc2dd">00028</a>     <span class="keyword">private</span> String <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#2c66b3f9b684688c5da0697a054dc2dd">tabTitle</a>;
<a name="l00029"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#3b2f42b207ebd9bbbe40ee0b032f6d92">00029</a>     <span class="keyword">private</span> javax.swing.JScrollPane <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#3b2f42b207ebd9bbbe40ee0b032f6d92">currentScrollPane</a>;
<a name="l00030"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#3a49881c823d6012c5281028691f21ce">00030</a>     <span class="keyword">private</span> javax.swing.JTextPane <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#3a49881c823d6012c5281028691f21ce">textPaneLocal</a>;
<a name="l00031"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#fe6e7a84bf0e70a08aa0b31e80ae9ec0">00031</a>     <span class="keyword">private</span> JXGraph <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#fe6e7a84bf0e70a08aa0b31e80ae9ec0">localGraph</a>;
<a name="l00032"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#5a0c1e45dd1c0e93989e029e3a0d6b4f">00032</a>     <span class="keyword">private</span> Vector&lt;String&gt; <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#5a0c1e45dd1c0e93989e029e3a0d6b4f">localPlotExpressions</a>;
<a name="l00033"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#f1af4e2ae34bc5fb812a50c27289cf01">00033</a>     <span class="keyword">private</span> JPopupMenu <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#f1af4e2ae34bc5fb812a50c27289cf01">graphContextMenu</a>;
<a name="l00034"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#dd17edeaff8359cc25a2524b7f3df02d">00034</a>     <span class="keyword">private</span> <span class="keywordtype">int</span> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#dd17edeaff8359cc25a2524b7f3df02d">tabIndex</a>;
<a name="l00035"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#50075f2fccb1f2d58e995b9ddc256120">00035</a>     <span class="keyword">private</span> <span class="keywordtype">boolean</span> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#50075f2fccb1f2d58e995b9ddc256120">modified</a>;
<a name="l00036"></a>00036 
<a name="l00037"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#a573b5c08a10912269b7ebc9d3ec0202">00037</a>     <span class="keyword">private</span> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlotter.html">TabbedPlotter</a> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#a573b5c08a10912269b7ebc9d3ec0202">currentPlotter</a>;
<a name="l00038"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#bf9aaef4cd16d42d81d756e378e9b402">00038</a>     <span class="keyword">private</span> Color[] <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#bf9aaef4cd16d42d81d756e378e9b402">defaultColors</a>;
<a name="l00039"></a>00039 
<a name="l00040"></a>00040     <span class="comment">// Constructors</span>
<a name="l00041"></a>00041     <span class="comment">//</span>
<a name="l00047"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#2bd7a76460247670f9203b11670a80ba">00047</a> <span class="comment"></span>    <span class="keyword">public</span> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#2bd7a76460247670f9203b11670a80ba">TabbedPlot</a>(<a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlotter.html">TabbedPlotter</a> tP, <span class="keywordtype">int</span> thisTabIndex, <span class="keywordtype">int</span> thisTabCreationIndex) {
<a name="l00048"></a>00048         <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#75de5b5c1cc4e1403fae2b9943c2ab98">initAttributes</a>();
<a name="l00049"></a>00049         
<a name="l00050"></a>00050         <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#24505bc1baf0aa3c632d165d64933a15">setTabIndex</a>(thisTabIndex);
<a name="l00051"></a>00051         <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#a573b5c08a10912269b7ebc9d3ec0202">currentPlotter</a> = tP;
<a name="l00052"></a>00052 
<a name="l00053"></a>00053         <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#a2142d4794987f588bd2a4c3d7558aee">setTabTitle</a>(<span class="stringliteral">"Tab "</span> + thisTabCreationIndex);
<a name="l00054"></a>00054     }
<a name="l00055"></a>00055     
<a name="l00056"></a>00056     <span class="comment">// Initialize Attributes    </span>
<a name="l00057"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#75de5b5c1cc4e1403fae2b9943c2ab98">00057</a>     <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#75de5b5c1cc4e1403fae2b9943c2ab98">initAttributes</a>() {
<a name="l00058"></a>00058         <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#5a0c1e45dd1c0e93989e029e3a0d6b4f">localPlotExpressions</a> = <span class="keyword">new</span> Vector&lt;String&gt;();
<a name="l00059"></a>00059         <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#fe6e7a84bf0e70a08aa0b31e80ae9ec0">localGraph</a> = <span class="keyword">new</span> JXGraph();
<a name="l00060"></a>00060         <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#3a49881c823d6012c5281028691f21ce">textPaneLocal</a> = <span class="keyword">new</span> javax.swing.JTextPane();
<a name="l00061"></a>00061         <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#3b2f42b207ebd9bbbe40ee0b032f6d92">currentScrollPane</a> = <span class="keyword">new</span> javax.swing.JScrollPane();
<a name="l00062"></a>00062         
<a name="l00063"></a>00063         Color[] newColors = {
<a name="l00064"></a>00064             Color.RED,
<a name="l00065"></a>00065             Color.BLUE,
<a name="l00066"></a>00066             Color.CYAN,
<a name="l00067"></a>00067             Color.DARK_GRAY,
<a name="l00068"></a>00068             Color.GREEN,
<a name="l00069"></a>00069             Color.MAGENTA,
<a name="l00070"></a>00070             Color.GRAY,
<a name="l00071"></a>00071             Color.ORANGE,
<a name="l00072"></a>00072             Color.PINK,
<a name="l00073"></a>00073             Color.LIGHT_GRAY
<a name="l00074"></a>00074         };
<a name="l00075"></a>00075         <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#bf9aaef4cd16d42d81d756e378e9b402">defaultColors</a> = newColors;
<a name="l00076"></a>00076     }
<a name="l00077"></a>00077 
<a name="l00078"></a>00078     <span class="comment">// Accessors</span>
<a name="l00079"></a>00079     <span class="comment">//</span>
<a name="l00084"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#05e6fc19e6c46a1c4913aab63aaf29e7">00084</a> <span class="comment"></span>    <span class="keyword">public</span> String <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#05e6fc19e6c46a1c4913aab63aaf29e7">getTabTitle</a>() {
<a name="l00085"></a>00085         <span class="keywordflow">return</span> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#2c66b3f9b684688c5da0697a054dc2dd">tabTitle</a>;
<a name="l00086"></a>00086     }
<a name="l00087"></a>00087 
<a name="l00092"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#9929d4506ead5485e6c1bf4c459b5be7">00092</a>     <span class="keyword">public</span> <span class="keywordtype">int</span> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#9929d4506ead5485e6c1bf4c459b5be7">getTabIndex</a>() {
<a name="l00093"></a>00093         <span class="keywordflow">return</span> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#dd17edeaff8359cc25a2524b7f3df02d">tabIndex</a>;
<a name="l00094"></a>00094     }
<a name="l00095"></a>00095 
<a name="l00100"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#99736b00415044aaf7a63ce02a6e9a51">00100</a>     <span class="keyword">public</span> JTextPane <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#99736b00415044aaf7a63ce02a6e9a51">getTextPane</a>() {
<a name="l00101"></a>00101         <span class="keywordflow">return</span> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#3a49881c823d6012c5281028691f21ce">textPaneLocal</a>;
<a name="l00102"></a>00102     }
<a name="l00103"></a>00103 
<a name="l00108"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#050a59ae3d48daeb888c3f7afe8fd1ed">00108</a>     <span class="keyword">public</span> JScrollPane <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#050a59ae3d48daeb888c3f7afe8fd1ed">getScrollPane</a>() {
<a name="l00109"></a>00109         <span class="keywordflow">return</span> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#3b2f42b207ebd9bbbe40ee0b032f6d92">currentScrollPane</a>;
<a name="l00110"></a>00110     }
<a name="l00111"></a>00111 
<a name="l00116"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#5dadffcdab5261d04fc730a0b78630b6">00116</a>     <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#5dadffcdab5261d04fc730a0b78630b6">getModified</a>() {
<a name="l00117"></a>00117         <span class="keywordflow">return</span> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#50075f2fccb1f2d58e995b9ddc256120">modified</a>;
<a name="l00118"></a>00118     }
<a name="l00119"></a>00119 
<a name="l00124"></a>00124 <span class="comment">/*    public String getCaretLabelText() {</span>
<a name="l00125"></a>00125 <span class="comment">        return caretListenerLocal.getText();</span>
<a name="l00126"></a>00126 <span class="comment">    }*/</span>
<a name="l00127"></a>00127 
<a name="l00134"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#036de8e5e839a8e8a99f9c89db1ffb07">00134</a>     <span class="keyword">private</span> Vector&lt;String&gt; <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#036de8e5e839a8e8a99f9c89db1ffb07">getCurrentPlots</a>() {
<a name="l00135"></a>00135         <span class="comment">//currentGraph.</span>
<a name="l00136"></a>00136         <span class="keywordflow">return</span> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#5a0c1e45dd1c0e93989e029e3a0d6b4f">localPlotExpressions</a>;
<a name="l00137"></a>00137     }
<a name="l00138"></a>00138 
<a name="l00148"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#9f0a266458d324387b307b8f0030d540">00148</a>     <span class="keyword">public</span> String <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#9f0a266458d324387b307b8f0030d540">getPlotsAsString</a>() {
<a name="l00149"></a>00149         Vector&lt;String&gt; plotContents = <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#036de8e5e839a8e8a99f9c89db1ffb07">getCurrentPlots</a>();
<a name="l00150"></a>00150         String returnString = <span class="keyword">new</span> String();
<a name="l00151"></a>00151         <span class="comment">// If the plotContents vector was empty the string will just stay null</span>
<a name="l00152"></a>00152         <span class="keywordflow">if</span> (!plotContents.isEmpty()) {
<a name="l00153"></a>00153             <span class="keywordtype">int</span> plotCount = plotContents.size();
<a name="l00154"></a>00154             <span class="comment">// Iterate through the plotContents and add to the string</span>
<a name="l00155"></a>00155             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; plotCount; j++) {
<a name="l00156"></a>00156                 <span class="comment">// Append the current vector member to the string</span>
<a name="l00157"></a>00157                 returnString += (String) plotContents.elementAt(j);
<a name="l00158"></a>00158                 <span class="comment">// Append semicolon and space if it wasn't the last member</span>
<a name="l00159"></a>00159                 <span class="keywordflow">if</span> (j != plotCount - 1) {
<a name="l00160"></a>00160                     returnString += <span class="stringliteral">"; "</span>;
<a name="l00161"></a>00161                 }
<a name="l00162"></a>00162             }
<a name="l00163"></a>00163         }
<a name="l00164"></a>00164         <span class="keywordflow">return</span> returnString;
<a name="l00165"></a>00165     }
<a name="l00166"></a>00166 
<a name="l00167"></a>00167     <span class="comment">// Mutators</span>
<a name="l00168"></a>00168     <span class="comment">//</span>
<a name="l00173"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#24505bc1baf0aa3c632d165d64933a15">00173</a> <span class="comment"></span>    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#24505bc1baf0aa3c632d165d64933a15">setTabIndex</a>(<span class="keywordtype">int</span> index) {
<a name="l00174"></a>00174         <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#dd17edeaff8359cc25a2524b7f3df02d">tabIndex</a> = index;
<a name="l00175"></a>00175     }
<a name="l00176"></a>00176 
<a name="l00182"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#a5d9339d1b6d15c544014146c8a1e9e3">00182</a>     <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#a5d9339d1b6d15c544014146c8a1e9e3">setGraphSize</a>(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y) {
<a name="l00183"></a>00183 
<a name="l00184"></a>00184     }
<a name="l00185"></a>00185 
<a name="l00196"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#074693f40ec1509efcb3255f0f10f077">00196</a>     <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#074693f40ec1509efcb3255f0f10f077">setGraphRange</a>(<span class="keywordtype">double</span> xMin, <span class="keywordtype">double</span> xMax,
<a name="l00197"></a>00197             <span class="keywordtype">double</span> yMin, <span class="keywordtype">double</span> yMax) {
<a name="l00198"></a>00198 
<a name="l00199"></a>00199         <span class="keywordtype">double</span> majorGridX;
<a name="l00200"></a>00200         <span class="keywordtype">double</span> majorGridY;
<a name="l00201"></a>00201 
<a name="l00202"></a>00202         <span class="comment">// Factor of 1.5 introduced after testing for more pleasing result</span>
<a name="l00203"></a>00203         majorGridX = (int) (1.5 * (xMax - xMin));
<a name="l00204"></a>00204         majorGridY = (int) (1.5 * (yMax - yMin));
<a name="l00205"></a>00205 
<a name="l00206"></a>00206         majorGridX = majorGridX / 10;
<a name="l00207"></a>00207         majorGridY = majorGridY / 10;
<a name="l00208"></a>00208 
<a name="l00209"></a>00209         <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#074693f40ec1509efcb3255f0f10f077">setGraphRange</a>(xMin, xMax, yMin, yMax, majorGridX, majorGridY);
<a name="l00210"></a>00210     }
<a name="l00211"></a>00211 
<a name="l00223"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#2715c18a97eb2c98abab4483322c1604">00223</a>     <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#074693f40ec1509efcb3255f0f10f077">setGraphRange</a>(<span class="keywordtype">double</span> xMin, <span class="keywordtype">double</span> xMax,
<a name="l00224"></a>00224             <span class="keywordtype">double</span> yMin, <span class="keywordtype">double</span> yMax, <span class="keywordtype">double</span> xGridSpacing, <span class="keywordtype">double</span> yGridSpacing) {
<a name="l00225"></a>00225         Rectangle2D currentBounds = <span class="keyword">new</span> Rectangle2D.Double(); <span class="comment">// = localGraph.getBounds();</span>
<a name="l00226"></a>00226         <span class="comment">//double currentMaxX = currentBounds.getMaxX();</span>
<a name="l00227"></a>00227         <span class="comment">//double currentMinX = currentBounds.getMinX();</span>
<a name="l00228"></a>00228         <span class="comment">//double currentMaxY = currentBounds.getMaxY();</span>
<a name="l00229"></a>00229         <span class="comment">//double currentMinY = currentBounds.getMinY();</span>
<a name="l00230"></a>00230         <span class="comment">//double currentHeight = currentBounds.getHeight();</span>
<a name="l00231"></a>00231 
<a name="l00232"></a>00232         currentBounds.setRect(xMin, yMin, xMax - xMin, yMax - yMin);
<a name="l00233"></a>00233 
<a name="l00234"></a>00234         <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#fe6e7a84bf0e70a08aa0b31e80ae9ec0">localGraph</a>.setView(currentBounds);
<a name="l00235"></a>00235         <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#fe6e7a84bf0e70a08aa0b31e80ae9ec0">localGraph</a>.setMajorX(xGridSpacing);
<a name="l00236"></a>00236         <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#fe6e7a84bf0e70a08aa0b31e80ae9ec0">localGraph</a>.setMajorY(yGridSpacing);
<a name="l00237"></a>00237     }
<a name="l00238"></a>00238 
<a name="l00243"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#1917762033d5ff1494faca0e72984e36">00243</a>     <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#1917762033d5ff1494faca0e72984e36">setActivePlot</a>(String inputFunction) {
<a name="l00244"></a>00244         <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#fe6e7a84bf0e70a08aa0b31e80ae9ec0">localGraph</a>.removeAllPlots();
<a name="l00245"></a>00245         <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#5a0c1e45dd1c0e93989e029e3a0d6b4f">localPlotExpressions</a>.clear();
<a name="l00246"></a>00246         <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#98f7de8017e6e50ce22a6c895afd902e">createAllPlotsFromString</a>(inputFunction);
<a name="l00247"></a>00247     }
<a name="l00248"></a>00248 
<a name="l00253"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#a2142d4794987f588bd2a4c3d7558aee">00253</a>     <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#a2142d4794987f588bd2a4c3d7558aee">setTabTitle</a>(String tabName) {
<a name="l00254"></a>00254         <span class="comment">// Eventually, tabs should be renameable by double-clicking or something</span>
<a name="l00255"></a>00255 
<a name="l00256"></a>00256         <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#2c66b3f9b684688c5da0697a054dc2dd">tabTitle</a> = tabName;
<a name="l00257"></a>00257     }
<a name="l00258"></a>00258 
<a name="l00263"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#c320f494f5c81eae814a5932f47defd8">00263</a>     <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#c320f494f5c81eae814a5932f47defd8">setModifed</a>(<span class="keywordtype">boolean</span> Modified) {
<a name="l00264"></a>00264         <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#50075f2fccb1f2d58e995b9ddc256120">modified</a> = Modified;
<a name="l00265"></a>00265     }
<a name="l00266"></a>00266 
<a name="l00267"></a>00267     <span class="comment">// Other Methods</span>
<a name="l00268"></a>00268     <span class="comment">//</span>
<a name="l00274"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#cc65b667f341539aad59584ff1bda4f6">00274</a> <span class="comment"></span>    <span class="keyword">public</span> javax.swing.JScrollPane <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#cc65b667f341539aad59584ff1bda4f6">createTab</a>(String inputFunction) {
<a name="l00275"></a>00275         <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#3b2f42b207ebd9bbbe40ee0b032f6d92">currentScrollPane</a> = <span class="keyword">new</span> javax.swing.JScrollPane();
<a name="l00276"></a>00276 
<a name="l00277"></a>00277         <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#98f7de8017e6e50ce22a6c895afd902e">createAllPlotsFromString</a>(inputFunction);
<a name="l00278"></a>00278 
<a name="l00279"></a>00279         <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#3b2f42b207ebd9bbbe40ee0b032f6d92">currentScrollPane</a>.setViewportView(<a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#fe6e7a84bf0e70a08aa0b31e80ae9ec0">localGraph</a>);
<a name="l00280"></a>00280         <span class="keywordflow">return</span> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#3b2f42b207ebd9bbbe40ee0b032f6d92">currentScrollPane</a>;
<a name="l00281"></a>00281     }
<a name="l00282"></a>00282 
<a name="l00287"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#98f7de8017e6e50ce22a6c895afd902e">00287</a>     <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#98f7de8017e6e50ce22a6c895afd902e">createAllPlotsFromString</a>(String inputFunction) {
<a name="l00288"></a>00288         Vector&lt;String&gt; inputFunctions = <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#7a73a6304ad16ab6da1f3ada688903ff">inputToVector</a>(inputFunction);
<a name="l00289"></a>00289         <span class="keywordtype">int</span> i = 0;
<a name="l00290"></a>00290         <span class="keywordtype">int</span> maxI = <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#bf9aaef4cd16d42d81d756e378e9b402">defaultColors</a>.length - 1;
<a name="l00291"></a>00291         <span class="keywordflow">for</span> (String s : inputFunctions) {
<a name="l00292"></a>00292             <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#6ee1c68bb4fa279494402a9a94924eff">singlePlotFromString</a>(<a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#bf9aaef4cd16d42d81d756e378e9b402">defaultColors</a>[i], s, <span class="stringliteral">"x"</span>);
<a name="l00293"></a>00293             <span class="keywordflow">if</span> (i &gt;= maxI) {
<a name="l00294"></a>00294                 i = 0;
<a name="l00295"></a>00295             } <span class="keywordflow">else</span> {
<a name="l00296"></a>00296                 i++;
<a name="l00297"></a>00297             }
<a name="l00298"></a>00298         }
<a name="l00299"></a>00299     }
<a name="l00300"></a>00300 
<a name="l00307"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#6ee1c68bb4fa279494402a9a94924eff">00307</a>     <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#6ee1c68bb4fa279494402a9a94924eff">singlePlotFromString</a>(Color plotColor, <span class="keyword">final</span> String expression,
<a name="l00308"></a>00308             <span class="keyword">final</span> String variable) {
<a name="l00309"></a>00309         <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#fe6e7a84bf0e70a08aa0b31e80ae9ec0">localGraph</a>.addPlots(plotColor, <span class="keyword">new</span> JXGraph.Plot() {
<a name="l00310"></a>00310 
<a name="l00311"></a>00311             <span class="keyword">public</span> <span class="keywordtype">double</span> compute(<span class="keywordtype">double</span> value) {
<a name="l00312"></a>00312                 <span class="keywordflow">return</span> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#879d2b57ce0d5045bb72a86e6ce38973">parseStringAsMath</a>(expression, variable, value);
<a name="l00313"></a>00313             }
<a name="l00314"></a>00314         });
<a name="l00315"></a>00315 
<a name="l00316"></a>00316         <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#5a0c1e45dd1c0e93989e029e3a0d6b4f">localPlotExpressions</a>.add(expression);
<a name="l00317"></a>00317     }
<a name="l00318"></a>00318 
<a name="l00327"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#879d2b57ce0d5045bb72a86e6ce38973">00327</a>     <span class="keyword">private</span> <span class="keywordtype">double</span> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#879d2b57ce0d5045bb72a86e6ce38973">parseStringAsMath</a>(String inputFunction, String independentVariable,
<a name="l00328"></a>00328             <span class="keywordtype">double</span> independentVariableValue) {
<a name="l00329"></a>00329         <span class="keywordtype">double</span> evalDouble = 1;
<a name="l00330"></a>00330         JEP myJepParser = <span class="keyword">new</span> JEP();
<a name="l00331"></a>00331         myJepParser.addStandardFunctions();
<a name="l00332"></a>00332         myJepParser.addStandardConstants();
<a name="l00333"></a>00333         myJepParser.addVariable(independentVariable, independentVariableValue);
<a name="l00334"></a>00334         <span class="keywordflow">try</span> {
<a name="l00335"></a>00335             myJepParser.parseExpression(inputFunction);
<a name="l00336"></a>00336             evalDouble = myJepParser.getValue();
<a name="l00337"></a>00337         <span class="comment">//double objDouble = myJepParser.evaluateD();</span>
<a name="l00338"></a>00338         } <span class="keywordflow">catch</span> (Exception e) {
<a name="l00339"></a>00339             System.err.println(<span class="stringliteral">"Error: "</span> + e);
<a name="l00340"></a>00340         }
<a name="l00341"></a>00341         <span class="keywordflow">return</span> evalDouble;
<a name="l00342"></a>00342     }
<a name="l00343"></a>00343 
<a name="l00349"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#7a73a6304ad16ab6da1f3ada688903ff">00349</a>     <span class="keyword">private</span> Vector&lt;String&gt; <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#7a73a6304ad16ab6da1f3ada688903ff">inputToVector</a>(String inputStr) {
<a name="l00350"></a>00350 
<a name="l00351"></a>00351         Vector&lt;String&gt; outVector = <span class="keyword">new</span> Vector&lt;String&gt;();
<a name="l00352"></a>00352         String[] splitArray = inputStr.split(<span class="stringliteral">"; "</span>);
<a name="l00353"></a>00353         <span class="keywordflow">for</span> (String s : splitArray) {
<a name="l00354"></a>00354             outVector.add(s);
<a name="l00355"></a>00355         }
<a name="l00356"></a>00356         <span class="keywordflow">return</span> outVector;
<a name="l00357"></a>00357     }
<a name="l00358"></a>00358     
<a name="l00359"></a><a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#e34e981dcbe656e3f6c7af7f3b90ec28">00359</a>     <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#e34e981dcbe656e3f6c7af7f3b90ec28">initContextMenu</a>(JComponent thisComponent, 
<a name="l00360"></a>00360             Vector&lt;JMenuItem&gt; menuItems) {
<a name="l00361"></a>00361         <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#f1af4e2ae34bc5fb812a50c27289cf01">graphContextMenu</a> = <span class="keyword">new</span> JPopupMenu();
<a name="l00362"></a>00362         <span class="keywordflow">for</span>(JMenuItem jM : menuItems) {
<a name="l00363"></a>00363             <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#f1af4e2ae34bc5fb812a50c27289cf01">graphContextMenu</a>.add(jM);
<a name="l00364"></a>00364         }
<a name="l00365"></a>00365         
<a name="l00366"></a>00366         <span class="keyword">class </span>PopupListener <span class="keyword">extends</span> MouseAdapter {
<a name="l00367"></a>00367             @Override
<a name="l00368"></a>00368             <span class="keyword">public</span> <span class="keywordtype">void</span> mousePressed(MouseEvent e) {
<a name="l00369"></a>00369                 maybeShowPopup(e);
<a name="l00370"></a>00370             }
<a name="l00371"></a>00371             
<a name="l00372"></a>00372             @Override
<a name="l00373"></a>00373             <span class="keyword">public</span> <span class="keywordtype">void</span> mouseReleased(MouseEvent e) {
<a name="l00374"></a>00374                 maybeShowPopup(e);
<a name="l00375"></a>00375             }
<a name="l00376"></a>00376 
<a name="l00377"></a>00377             <span class="keyword">private</span> <span class="keywordtype">void</span> maybeShowPopup(MouseEvent e) {
<a name="l00378"></a>00378                 <span class="keywordflow">if</span> (e.isPopupTrigger()) {
<a name="l00379"></a>00379                     <a class="code" href="classedu_1_1stanford_1_1atom_1_1sti_1_1client_1_1gui_1_1tabbedplotter_1_1TabbedPlot.html#f1af4e2ae34bc5fb812a50c27289cf01">graphContextMenu</a>.show(e.getComponent(),
<a name="l00380"></a>00380                                e.getX(), e.getY());
<a name="l00381"></a>00381                 }
<a name="l00382"></a>00382             }
<a name="l00383"></a>00383         }
<a name="l00384"></a>00384     }
<a name="l00385"></a>00385 }
</pre></div><hr size="1"><address style="text-align: right;"><small>Generated on Thu May 22 16:31:44 2008 for Stanford Timing Interface: Client by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.3 </small></address>
</body>
</html>
